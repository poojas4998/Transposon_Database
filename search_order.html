<!DOCTYPE html>
<html>
<head>
	<title>BF 768 Database Project</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/Users/pooja.psavla/Desktop/DBProject/mycss.css">



	<title>Google Pie Chart Example</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        function google_piechart() {
            let tableChoice = $("#table_choice").val();
            //We reference the Python Script that will give us the sorted transposon orders
            $.get("https://bioed.bu.edu/cgi-bin/students_23/sv/search_order.py",
                {selector: "piechart", table_choice: tableChoice},
                //Use the create_piechart function, which uses Google charts in order to produce our pie chart
                function (data) {
                    create_piechart(data);
                },
                "json"
            );
        }

        function create_piechart(data) {
            if (data.length === 0) {
                alert('There was no data for the table choice.');
                return;
            }

            let formattedData = data.map(item => [item.Transposon_Order, item.Total]);
            //Add header
            formattedData.unshift(["Transposon_Order", "Total"]);
            //Load all google charts information necessary
            google.charts.load('current', {'packages': ['corechart']});
            google.charts.setOnLoadCallback(function () {
                //Load the processed data from the create_piechart() function
                var chartData = new google.visualization.arrayToDataTable(formattedData);
                var options = {
                    title: 'Transposon Orders'
                };
                var chart = new google.visualization.PieChart(document.getElementById('piechart'));
                chart.draw(chartData, options);
            });
        }
    </script>
</head>
<body>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-white w3-wide w3-padding w3-card">
    <a href="TDatabase.html" class="w3-bar-item w3-button w3-animate-zoom"><b>Transposon</b>Browser Home</a>
    <!-- Float links to the right. Hide them on small screens -->
    <div class="w3-right w3-hide-small">
      <a href="Team.html" class="w3-bar-item w3-button w3-animate-zoom">Meet the Team</a>
      <a href="search_class.html" class="w3-bar-item w3-button w3-animate-zoom">Search Transposon Class</a>
      <a href="search_order.html" class="w3-bar-item w3-button w3-animate-zoom">Search Transposon Order</a>
      <a href="search_database.html" class="w3-bar-item w3-button w3-animate-zoom">Search Database</a>
    </div>
  </div>
</div>

<!-- Header -->
<header class="w3-display-container w3-content w3-wide"  style="min-height:100%;" id="home">
  <img class="w3-image" src="/Users/pooja.psavla/Desktop/DBProject/order.png" alt="Image description">
  <div class="w3-display-middle w3-margin-top w3-center">
    <h1 class="w3-xxlarge w3-text-white"><span class="w3-padding w3-black w3-opacity-min"><b>Search By Order</b></span> <span class="w3-hide-small w3-text-light-grey"></span></h1>
  </div>
</header>

<!-- Page content -->
<div class="w3-content w3-padding" style="max-width:1564px">
<form onsubmit="event.preventDefault(); google_piechart();">
    table_choice: <input type='text' id='table_choice' name='table_choice'><br>
    <button type="submit">Submit</button>
</form>
<div id="piechart" style="width: 900px; height: 500px;"></div>
  

<!-- End page content -->
</div>


<!-- Footer -->
<footer class="w3-center w3-black w3-padding-16">
<p>This project was developed at Boston University as
      part of BF768 Biological Database Systems Course, Spring 2023,  Instructor: Dr. Gary Benson</p>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Boston_University_wordmark.svg/1000px-Boston_University_wordmark.svg.png?20200623211014" alt="H" width="120" height="50">
    <p>Last revised April 21, 2023</p>
</footer>

</body>
</html>
